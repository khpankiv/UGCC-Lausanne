<header class="header">
  <div class="container">
    <div class="header-top-row grid">
      {% if lang == 'uk' %}{% set homeUrl = '/' %}{% else %}{% set homeUrl = '/' + lang + '/' %}{% endif %}
      {% if lang == 'uk' %}{% set donateUrl = '/donate/' %}{% else %}{% set donateUrl = '/' + lang + '/donate/' %}{% endif %}
      <a class="header-logo-titles header-home-link" href="{{ homeUrl }}">
        <img src="https://ugcc.fr/wp-content/uploads/2022/02/logo-5.png" alt="UGCC Logo" class="header-logo-full">
        <div class="header-titles">
          <div class="header-title-small">{{ header.siteSubtitle }}</div>
          <h1 class="header-title">{{ header.siteName }}</h1>
        </div>
      </a>
      <div class="header-actions-right">
        <div class="header-actions-grid">
          <div class="lang-circle">
            <!-- Accessible language toggle button: JS expects .lang-btn and toggles .lang-list -->
            {% set titleLabel = 'Мова' %}
            {% if lang == 'fr' %}{% set titleLabel = 'Langue' %}{% endif %}
            {% if lang == 'en' %}{% set titleLabel = 'Language' %}{% endif %}
            <button class="lang-btn" aria-expanded="false" aria-controls="lang-menu" title="{{ titleLabel }}">
              {% set currentLangLabel = 'Українська' %}
              {% if lang == 'fr' %}{% set currentLangLabel = 'Français' %}{% endif %}
              {% if lang == 'en' %}{% set currentLangLabel = 'English' %}{% endif %}
              <span class="lang-label">
							<i class="fa-solid fa-globe"></i>
							 {{ currentLangLabel }}</span>
            </button>
            <ul id="lang-menu" class="lang-list" role="menu" hidden>
              <li role="menuitem"><a href="/">Українська</a></li>
              <li role="menuitem"><a href="/fr/">Français</a></li>
              <li role="menuitem"><a href="/en/">English</a></li>
            </ul>
          </div>
          <span class="socials socials-header">
            {% for social in footer.social %}
              <a href="{{ social.url }}" title="{{ social.title }}"><i class="fa-brands fa-{{ social.title | lower }}"></i></a>
            {% endfor %}
            <button class="icon-btn search-toggle" aria-expanded="false" title="{{ header.searchTitle or 'Пошук' }}">
              <i class="fa-solid fa-magnifying-glass"></i>
            </button>
          </span>
          <a class="btn header-donate-btn" href="{{ donateUrl }}">{{ header.donateCta or 'Пожертвувати' }}</a>
          <form class="header-search" action="#" method="get">
            <input type="text" placeholder="{{ header.searchPlaceholder }}" name="q">
          </form>
        </div>
      </div>
    </div>
  </div>
  <nav class="header-menu-row">
    <div class="container">
      <ul>
        {% for item in header.menu %}
          {% if item.url != '/' and item.url != '/en/' and item.url != '/fr/' and ('/donate/' not in item.url) %}
            <li><a href="{{ item.url }}"{% if item.cta %} class="cta"{% endif %}>{{ item.title }}</a></li>
          {% endif %}
        {% endfor %}
      </ul>
    </div>
  </nav>
</header>
